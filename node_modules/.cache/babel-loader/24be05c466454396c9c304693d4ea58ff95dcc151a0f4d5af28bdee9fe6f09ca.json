{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Html5Qrcode}from'html5-qrcode';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[resultado,setResultado]=useState('');const qrRegionId=\"lector-qr\";useEffect(()=>{const qrCode=new Html5Qrcode(qrRegionId);qrCode.start({facingMode:\"environment\"},{fps:10,qrbox:{width:250,height:250}},decodedText=>{setResultado(decodedText);qrCode.stop();enviarDatos(decodedText);},err=>{}).catch(err=>console.error(\"Error al iniciar cÃ¡mara:\",err));return()=>{qrCode.stop().catch(err=>{});};},[]);const enviarDatos=texto=>{fetch(\"https://script.google.com/macros/s/AKfycbwMOzeIl2AB5Aizh4O2cdDwkN6iS3mvP0ho0D6k4XmalBPvnb6jba9MtzSIMq7qnMWV/exec\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({qr:texto})}).then(res=>res.json()).then(data=>console.log(\"Enviado:\",data)).catch(err=>console.error(\"Error al enviar:\",err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"titulo\",children:\"Registro Juventud Idente\"}),/*#__PURE__*/_jsx(\"div\",{id:\"lector-qr\",className:\"lector\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"resultado\",children:[\"\\uD83D\\uDCCE C\\xF3digo le\\xEDdo: \",resultado]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Html5Qrcode","jsx","_jsx","jsxs","_jsxs","App","resultado","setResultado","qrRegionId","qrCode","start","facingMode","fps","qrbox","width","height","decodedText","stop","enviarDatos","err","catch","console","error","texto","fetch","method","headers","body","JSON","stringify","qr","then","res","json","data","log","className","children","id"],"sources":["D:/tobyc/Documents/Trabajo/lector-qr-idente-cra/lector-qr-idente-cra/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Html5Qrcode } from 'html5-qrcode';\nimport './App.css';\n\nfunction App() {\n  const [resultado, setResultado] = useState('');\n  const qrRegionId = \"lector-qr\";\n\n  useEffect(() => {\n    const qrCode = new Html5Qrcode(qrRegionId);\n    qrCode.start(\n      { facingMode: \"environment\" },\n      { fps: 10, qrbox: { width: 250, height: 250 } },\n      (decodedText) => {\n        setResultado(decodedText);\n        qrCode.stop();\n        enviarDatos(decodedText);\n      },\n      (err) => {}\n    ).catch(err => console.error(\"Error al iniciar cÃ¡mara:\", err));\n\n    return () => {\n      qrCode.stop().catch(err => {});\n    };\n  }, []);\n\n  const enviarDatos = (texto) => {\n    fetch(\"https://script.google.com/macros/s/AKfycbwMOzeIl2AB5Aizh4O2cdDwkN6iS3mvP0ho0D6k4XmalBPvnb6jba9MtzSIMq7qnMWV/exec\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ qr: texto })\n    })\n    .then(res => res.json())\n    .then(data => console.log(\"Enviado:\", data))\n    .catch(err => console.error(\"Error al enviar:\", err));\n  };\n\n  return (\n    <div className=\"contenedor\">\n      <h2 className=\"titulo\">Registro Juventud Idente</h2>\n      <div id=\"lector-qr\" className=\"lector\"></div>\n      <p className=\"resultado\">ðŸ“Ž CÃ³digo leÃ­do: {resultado}</p>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,cAAc,CAC1C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAAS,UAAU,CAAG,WAAW,CAE9BV,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,MAAM,CAAG,GAAI,CAAAT,WAAW,CAACQ,UAAU,CAAC,CAC1CC,MAAM,CAACC,KAAK,CACV,CAAEC,UAAU,CAAE,aAAc,CAAC,CAC7B,CAAEC,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAI,CAAE,CAAC,CAC9CC,WAAW,EAAK,CACfT,YAAY,CAACS,WAAW,CAAC,CACzBP,MAAM,CAACQ,IAAI,CAAC,CAAC,CACbC,WAAW,CAACF,WAAW,CAAC,CAC1B,CAAC,CACAG,GAAG,EAAK,CAAC,CACZ,CAAC,CAACC,KAAK,CAACD,GAAG,EAAIE,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEH,GAAG,CAAC,CAAC,CAE9D,MAAO,IAAM,CACXV,MAAM,CAACQ,IAAI,CAAC,CAAC,CAACG,KAAK,CAACD,GAAG,EAAI,CAAC,CAAC,CAAC,CAChC,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,WAAW,CAAIK,KAAK,EAAK,CAC7BC,KAAK,CAAC,kHAAkH,CAAE,CACxHC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,EAAE,CAAEP,KAAM,CAAC,CACpC,CAAC,CAAC,CACDQ,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAIb,OAAO,CAACc,GAAG,CAAC,UAAU,CAAED,IAAI,CAAC,CAAC,CAC3Cd,KAAK,CAACD,GAAG,EAAIE,OAAO,CAACC,KAAK,CAAC,kBAAkB,CAAEH,GAAG,CAAC,CAAC,CACvD,CAAC,CAED,mBACEf,KAAA,QAAKgC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnC,IAAA,OAAIkC,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,0BAAwB,CAAI,CAAC,cACpDnC,IAAA,QAAKoC,EAAE,CAAC,WAAW,CAACF,SAAS,CAAC,QAAQ,CAAM,CAAC,cAC7ChC,KAAA,MAAGgC,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,mCAAiB,CAAC/B,SAAS,EAAI,CAAC,EACtD,CAAC,CAEV,CAEA,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}